# Configuraci贸n para producci贸n
spring:
  profiles:
    active: prod
  
  datasource:
    url: ${DATABASE_URL}
    username: ${DATABASE_USERNAME}
    password: ${DATABASE_PASSWORD}
  
  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    properties:
      hibernate:
        default_schema: chatbotia
  
  liquibase:
    enabled: true
    contexts: prod
    drop-first: false  # NUNCA cambiar a true en producci贸n

# Configuraci贸n del chatbot
app:
  whatsapp:
    provider: meta  # meta (recomendado), twilio, mock
    meta:
      access-token: ${META_WHATSAPP_ACCESS_TOKEN}
      phone-number-id: ${META_WHATSAPP_PHONE_NUMBER_ID}
      webhook-verify-token: ${META_WHATSAPP_WEBHOOK_VERIFY_TOKEN}
      api-version: ${META_WHATSAPP_API_VERSION:v21.0}
    twilio:
      account-sid: ${TWILIO_ACCOUNT_SID:}
      auth-token: ${TWILIO_AUTH_TOKEN:}
  
  ai:
    provider: openai
    openai:
      api-key: ${OPENAI_API_KEY}
      model: ${AI_MODEL:gpt-4o-mini}
      embedding-model: ${AI_EMBEDDING_MODEL:text-embedding-3-large}
  
  knowledge-base:
    default-namespace: kb
    top-k-results: 5
    max-conversation-history: 10

spring.ai:
  openai:
    api-key: ${OPENAI_API_KEY}
    chat:
      options:
        model: ${AI_MODEL:gpt-4o-mini}
        temperature: 0.7
    embedding:
      options:
        model: ${AI_EMBEDDING_MODEL:text-embedding-3-large}
  
  vectorstore:
    pgvector:
      index-type: HNSW
      distance-type: COSINE_DISTANCE
      dimensions: 3072
      remove-existing-vector-store-table: false

logging:
  level:
    com.relative.chat.bot.ia: INFO
    org.springframework.ai: WARN

